# vim的一些基本操作

链接在下面，这个是是真的全，但是我迷上了"奥卡姆的剃刀"，所以我并不想记录一些我大概率用不到的东西，所以这是我自己的版本，来自于[**视频课程**](https://www.bilibili.com/viceo/BV13s411876J?from=search&seic=5909098029875893112&spm_ic_from=333.337.0.0)

## [ Vim命令学习链接](http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#ic59)




## 1. 使用`h` `j` `k` `l` 移动光标

就是四个方向，不要问为什么是这四个

k 向上

j 向下

h 向左

l向右

## 2. 插入模式和退出vim方法

一共有4个字母可以让你进入插入模式
| 按键 |含义|
|--|--|
| i | 在cursor前面进入插入模式 |
|I|行首|
|a|后面|
|A|行尾|
|o|在cursor所在行下方插入空行并进入插入模式|
|O|在cursor所在行上方插入空行并进入插入模式|
|s|删除cursor指定的字符并进入插入模式|
|S|将cursor所在行清除并进入插入模式|


## 3. 删除命令、数字的用法、撤销和恢复命令
在普通模式下，删除单一字符可以用`x`命令
删除更多字符，可以使用`c`命令`-c motion`

**所以什么是motion呢**  -> 表示操作范围的指令
| 按键 |含义|
|--|--|
| 0 | 把cursor定位到行首 |
|`^`|行首|
|`$`|行尾|
|b|把cursor定位到单词的起始处|
|e|把cursor定位到单词的结尾处|
|w|把cursor定位到下一个单词的起始处|
|gg|把cursor定位到文件的开头|
|G|将cursor定位到文件的末尾|

### 更多删除命令  `c + [数字] + motion`
> c0,c^,c$,cb,ce,cw,ch,cl,cj,ck,cc,cgg,cG


数字可以对以上motion进行重复

### 后悔药
`u`表示撤销最后一次修改
`U`表示撤销对整行的修改
`Ctrl+r`快捷键是 **后悔药的后悔药**，也就是恢复命令


最后，以上所有的`删除`并不是真正的删除，事实上只是放在Vim的一个缓冲区中，vim称之为寄存器，相当于Wincows的剪切功能...

## 4. 粘贴命令、替换命令、替换模式和修改命令

使用`p`命令可以将最后一次删除的内容粘贴到cursor之后
使用`P`命令可以将最后一次删除的内容粘贴到cursor之前

vim使用`y`命令实现拷贝命令  `y [数字] motion`

替换命令`r`

### 替换模式
使用`R`直接一步到位进入替换模式 `--REPLACE--`
注意在 `--REPLACE--`模式下`space`键和`backspace`键，使用后者相当于撤销的作用

### 修改命令 `c [数字] motion`
修改和替换是不一样的！
修改会进入插入模式，而替换不会进入插入模式!!!
> c0,c^,c$,cb,ce,cw,ch,cl,cj,ck,cc,cgg,cG

## 5. 文件信息、跳转和定位括号

`ctrl  g` 查看文档信息

### 跳转 
`[行号] +G`，也可以使用`: 行号`来进行跳转

### 定位括号 
写代码的时候快速找到另一半括号 -> `%`

### 缩进 `>>`
反缩进 `<<`
还有利用数字的奥义，使用数字加上`>`


## 6. 搜索命令和替换命令
`/ [字符] ` 从光标考试向后搜索
`? [字符] ` 从光标开始向前搜索

### 替换
在一行进行替换`:s/oo/xx`
如何在全文进行替换呢？ `:%s/oo/xx` 也就是在原来命令前面加上`%`
一些替换命令如下
`:s/old/new`  表示将光标所在行的第一个old替换成了new
`:s/old/new/g`  表示将光标所在行的所有old替换成了new
`%:s/old/new/g`  表示替换整个文件中所有的old替换成new
`%:s/old/new/gc`  同上，但是在替换前会先请示
`5,13s/old/new/g`  表示替换第5行到第13行中所有的old为new

## 7. 执行shell命令、文件另存为、合并文件

### 使用`:! [Shell命令] `就可以编写代码的同时进行查看路径等Shell命令的操作

### 文件另存为 `:w`

### 局部另存为 -> 首先进入`--VISUAL--` 模式选中，然后`:w`命令

### 合并文件 `:r [文件名] `

### 同时打开多个文件 
使用 `-o`是垂直并排
使用`-O`是水平并排

如何把cursor切换文件呢
`ctrl+w+w` 把cursor切换到下一个文件
对于垂直并排的文件，使用`ctrl +w +上、下方向`表示上下切换文件
对于水平并排的文件，使用`ctrl+w+左、右方向`表示左右切换文件

如何把同时打开的多个文件同时退出呢 -> `q a`同时退出


## 8. 使用简单的宏(macro)

同时删除每一行的前10个字段，每一行删除实在太麻烦了，如果使用vim宏录制可以简化操作

1. 先`q` 在`a`表示此时创建一个名字为`a`的一个宏
2. 进行操作，需要考虑到各种情况
3. 录制好之后按一下`q`，表示录制好宏
4. 使用`@+宏名`即可使用宏
5. 宏的批量操作 使用数字的奥秘 `数字+@+宏名`

## 9. 一个技巧

有一个问题就是如何把下面的数字变成后面的样子

> 1241234
> 2543255
> 534632
> 42345252345

这就是`快速操作`的一个技巧
1. 首先`ctrl+v`,
2. 然后利用`[数字]+motion`选中想要一起替换的行
3. 按`shift+i`进行插入，最后按`Esc`退出，就可以完成

> 11111241234
> 11112543255
> 1111534632
> 111142345252345

